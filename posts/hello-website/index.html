<!doctype html><html lang=en><head><title>Hello Website :: paregis.me</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="In this post, we will build our first static page using `python`, an `html` template, and serve it locally."><meta name=keywords content="networking,wireless,engineering,cybersecurity,web development,python,javascript"><meta name=robots content="noodp"><link rel=canonical href=/posts/hello-website/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/assets/yellow.css><link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=/img/favicon/yellow.png><meta name=twitter:card content="summary"><meta name=twitter:site content="www.paregis.me"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Hello Website"><meta property="og:description" content="In this post, we will build our first static page using `python`, an `html` template, and serve it locally."><meta property="og:url" content="/posts/hello-website/"><meta property="og:site_name" content="paregis.me"><meta property="og:image" content="/img/favicon/yellow.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:section" content="Tutorial"><meta property="article:published_time" content="2021-11-04 00:00:01 -0500 -0500"></head><body class=yellow><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>paregis.me</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/>Home</a></li><li><a href=/about/>About</a></li><li><a href=/teaching/>Teaching</a></li><li><a href=/publications/>Publications</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/>Home</a></li><li><a href=/about/>About</a></li><li><a href=/teaching/>Teaching</a></li><li><a href=/publications/>Publications</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=/posts/hello-website/>Hello Website</a></h1><div class=post-meta><span class=post-date>2021-11-04</span></div><div class=post-content><div><h2 id=table-of-content>Table of content<a href=#table-of-content class=hanchor arialabel=Anchor>&#8983;</a></h2><ul><li><a href=#table-of-content>Table of content</a></li><li><a href=#recap>Recap</a></li><li><a href=#create-a-template>Create a template</a></li><li><a href=#updating-the-build-script>Updating the build script</a></li><li><a href=#serve-the-website-with-a-proper-webserver>Serve the website with a proper webserver</a></li><li><a href=#summary>Summary</a></li></ul><h2 id=recap>Recap<a href=#recap class=hanchor arialabel=Anchor>&#8983;</a></h2><p>We have set up our development environment on our own computer, now it&rsquo;s time to build something useful. In this post, we will build our first static page using <code>python</code>, an <code>html</code> template, and we will also serve the website locally.</p><h2 id=create-a-template>Create a template<a href=#create-a-template class=hanchor arialabel=Anchor>&#8983;</a></h2><p>To start, let&rsquo;s create a file in the <code>/templates</code> folder and call it <code>hello.html</code>. Now let&rsquo;s put some very basic html:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>html</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>        Hello world!
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><p>That&rsquo;s it. Nothing fancy here!</p><h2 id=updating-the-build-script>Updating the build script<a href=#updating-the-build-script class=hanchor arialabel=Anchor>&#8983;</a></h2><p><em>At this point, it&rsquo;s worth mentioning that the workflow that we are about to create will not change. So even though these first examples will look super simplistic, the way that you will make your pages will feel very similar.</em></p><p>Now let&rsquo;s go to the <code>build.py</code> script. In the build script, the first thing we need to do is import the jinja engine so add the import to the top. We will also use the <code>pathlib</code> library that should already be available to you with <code>python 3</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> jinja2 <span style=color:#f92672>import</span> Environment, FileSystemLoader
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> pathlib <span style=color:#f92672>import</span> Path
</span></span></code></pre></div><p>We will use the <code>FileSystemLoader</code> to point to a folder that contains all the template files. It makes our life easier so we don&rsquo;t have to open the files and parse them ourselves. The <code>Environment</code> class will let us load the templates by passing the filename of the template, that of course is inside the <code>/templates</code> folder:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>file_loader <span style=color:#f92672>=</span> FileSystemLoader(<span style=color:#e6db74>&#39;templates&#39;</span>)
</span></span><span style=display:flex><span>env <span style=color:#f92672>=</span> Environment(loader<span style=color:#f92672>=</span>file_loader)
</span></span><span style=display:flex><span>template <span style=color:#f92672>=</span> env<span style=color:#f92672>.</span>get_template(<span style=color:#e6db74>&#39;hello.html&#39;</span>)   <span style=color:#75715e># tell jinja to load the template &#34;hello.html&#34;</span>
</span></span><span style=display:flex><span>output <span style=color:#f92672>=</span> template<span style=color:#f92672>.</span>render()                  <span style=color:#75715e># generates the html code as a string</span>
</span></span><span style=display:flex><span>o <span style=color:#f92672>=</span> Path<span style=color:#f92672>.</span>cwd()                              <span style=color:#75715e># get the current directory of the build script</span>
</span></span><span style=display:flex><span>o <span style=color:#f92672>=</span> o <span style=color:#f92672>/</span> Path(<span style=color:#e6db74>&#39;index.html&#39;</span>)                  <span style=color:#75715e># append the output filename to the path</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> o<span style=color:#f92672>.</span>open(mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;w&#39;</span>) <span style=color:#66d9ef>as</span> fh:                <span style=color:#75715e># open de output file represented by the Path object &#39;o&#39;</span>
</span></span><span style=display:flex><span>    fh<span style=color:#f92672>.</span>write(output)                        <span style=color:#75715e># write the generated html code into the file</span>
</span></span></code></pre></div><p>Save the build script. Now go to the terminal and run it (don&rsquo;t forget you have to CD to the folder of your project):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /path/to/project/folder
</span></span><span style=display:flex><span>python build.py
</span></span></code></pre></div><p>If everything goes smoothly, you should see a new file in your project folder, named <code>**index**.html</code>! If you open the file, you will notice that it looks exactly like the template <code>**hello**.html</code>, and that&rsquo;s not fun at all. Let&rsquo;s change that!</p><p>Edit the template hello.html to look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>html</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>        Hello **{{ name }}**!
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div><p>And in the build script you only edit one line, the <code>render()</code> method that Jinja uses to generate the <code>html</code> markup:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>output <span style=color:#f92672>=</span> template<span style=color:#f92672>.</span>render(name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Harry Potter&#34;</span>)
</span></span></code></pre></div><p>Now run the build command again: <code>python build.py</code></p><p>Wow! Now if you open the <code>index.html</code> file you will see Harry&rsquo;s name there! That&rsquo;s pretty cool if you ask me.</p><p>But it&rsquo;s a little annoying that the built <code>index.html</code> is mixed in the project folder, let&rsquo;s instead, write to our build directory <code>/_site</code>. You can name it whatever you want, but I&rsquo;m used to this underscore site pattern so I&rsquo;ll stick to it.</p><p>In the build script edit so the <code>o</code> variable looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>o <span style=color:#f92672>=</span> o <span style=color:#f92672>/</span> Path(<span style=color:#e6db74>&#39;_site/index.html&#39;</span>)
</span></span></code></pre></div><p>This will create a path the points to the build dir <code>/_site</code>. Run the build command. Now the file is generated in the subfolder. Awesome, this way we don&rsquo;t have to worry trying to figure out which <code>html</code> files are used as a template and which are generated pages. All files in the <code>/_site</code> subfolder will be considered the final product!</p><h2 id=serve-the-website-with-a-proper-webserver>Serve the website with a proper webserver<a href=#serve-the-website-with-a-proper-webserver class=hanchor arialabel=Anchor>&#8983;</a></h2><p>As of now we haven&rsquo;t really <strong>SERVED</strong> our website, we were simply opening the <code>html</code> files with whatever program we wanted like a text editor or a browser. Now that our build files are all centralized in a single folder, we can spin up an HTTP server that points to the <code>/_site</code> folder.</p><p>Luckily, <code>python</code> comes with a very simple server that gets the job done, very useful in development mode. In your terminal, after generating the <code>html</code> files in the build directory, run this command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python -m http.server --directory ./_site/
</span></span></code></pre></div><p><em>Note python 2 has a similar command: <code>python -m SimpleHTTPServer</code> but you will need to <code>cd /_site/</code> first.</em></p><p>This command will start python&rsquo;s built-in http server pointing to the <code>/_site</code> folder. Now move to your browser and enter <code>127.0.0.1:8000</code> in the address bar, that&rsquo;s your localhost address. And the server by default uses port <code>8000</code>, so we need that too.</p><p>Ta-Da! Now we have a fully functional website. How exciting! Even though the end product is very minimalist, to be polite, it helps to figure out the development workflow of building and serving. We will build upon this process to personalize the website further.</p><h2 id=summary>Summary<a href=#summary class=hanchor arialabel=Anchor>&#8983;</a></h2><p>In this post, we saw how to create a simple jinja2 template. We also use the built-in python http server to serve the website locally.</p><ul><li>Summarizing, in this video we:</li><li>Created a template file</li><li>Loaded the template engine in the build script</li><li>Used the template file to create a static page</li><li>Served the website using an http server</li></ul></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/posts/creating-templates/><span class=button__icon>←</span>
<span class=button__text>Creating Templates</span></a></span>
<span class="button next"><a href=/posts/setting-up-your-development-environment/><span class=button__text>Setting Up Your Development Environment</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>All rights preserved.</span></div></div></footer><script src=/assets/main.js></script>
<script src=/assets/prism.js></script></div></body></html>