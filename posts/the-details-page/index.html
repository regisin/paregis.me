<!doctype html><html lang=en><head><title>The Details Page :: paregis.me - just another personal projects website</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="We created a static website with the About, Teaching, and Research pages. The `/research` page lists all projects in a compact manner. In this post, we will create a dedicated page for each research project listed in the data store."><meta name=keywords content="networking,wireless,engineering,cybersecurity,web development,python,javascript"><meta name=robots content="noodp"><link rel=canonical href=/posts/the-details-page/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/assets/yellow.css><link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=/favicon.ico><meta name=twitter:card content="summary"><meta name=twitter:site content="www.paregis.me"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="The Details Page"><meta property="og:description" content="We created a static website with the About, Teaching, and Research pages. The `/research` page lists all projects in a compact manner. In this post, we will create a dedicated page for each research project listed in the data store."><meta property="og:url" content="/posts/the-details-page/"><meta property="og:site_name" content="paregis.me - just another personal projects website"><meta property="og:image" content="/favicon.ico"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:section" content="Tutorial"><meta property="article:published_time" content="2021-11-17 00:00:01 -0500 -0500"></head><body class=yellow><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>paregis.me</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/>Home</a></li><li><a href=/about/>About</a></li><li><a href=/teaching/>Teaching</a></li><li><a href=/publications/>Publications</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/>Home</a></li><li><a href=/about/>About</a></li><li><a href=/teaching/>Teaching</a></li><li><a href=/publications/>Publications</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=/posts/the-details-page/>The Details Page</a></h1><div class=post-meta><span class=post-date>2021-11-17</span></div><div class=post-content><div><h2 id=table-of-content>Table of content<a href=#table-of-content class=hanchor arialabel=Anchor>&#8983;</a></h2><ul><li><a href=#table-of-content>Table of content</a></li><li><a href=#recap>Recap</a></li><li><a href=#the-details-page>The details page</a></li><li><a href=#new-template>New template</a></li><li><a href=#moar-data>Moar data</a></li><li><a href=#adding-the-new-page-to-the-build-flow>Adding the new page to the build flow</a></li><li><a href=#a-word-on-the-development-workflow>A word on the development workflow</a></li><li><a href=#summary>Summary</a></li></ul><h2 id=recap>Recap<a href=#recap class=hanchor arialabel=Anchor>&#8983;</a></h2><p>I have created a static website with a few pages in it: the About page, the Teaching, and the Research pages. The <code>/research</code> page, which is kind of my professional portfolio, right now simply shows a list of my research projects, but does not give out any details just yet&mldr; It&rsquo;s time to change that. In this post, I will be creating a details page for each research project in the data store.</p><p>Like I said before, I have this <code>/research</code> page in the website, and if we check it out all it does is display all of the projects in a <code>&lt;ul></code> list. Each project has an image associated with it, the thumbnail, and a short description of the project, the excerpt. Both the thumbnail and the excerpt are fields in the datastore (or keys in a dictionary), so when we add a new project to the file, we need to make sure we follow the same structure.</p><p>The excerpt and thumbnail are both text strings, but in reality they are used differently. The excerpt text will be printed out as is, meaning the <code>build.py</code> script will read it and inject that string into the template where the placeholder is.</p><p>The thumbnail, on the other hand, even though it&rsquo;s just a piece of text, the text itself is not displayed directly. Instead, it is used to make up the source <code>src</code> property of an <code>&lt;img></code> tag in the html. The thumbnail must point to the location of the image file on the server, otherwise no image will show up in the rendered website when it is served.</p><p>Just to give you an overview of the files and a step-by-step of what happens, here are samples of the datastore <code>data.py</code>, the template <code>research.html</code>, the <code>build.py</code> script, and the generated <code>index.html</code>, and the folder structure of the project:</p><ul><li><p>A single entry in the <code>research</code> from <code>data.py</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>research <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    <span style=color:#75715e># ... other items ommited</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;name&#39;</span>: <span style=color:#e6db74>&#39;My Awesome Research&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;slug&#39;</span> : <span style=color:#e6db74>&#39;my-awesome-research&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;excerpt&#39;</span> : <span style=color:#e6db74>&#39;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam lectus eget nisl iaculis, at maximus elit convallis. Donec mattis, sem et imperdiet convallis, leo enim tincidunt massa, non aliquam ante libero sollicitudin quam. Maecenas facilisis urna urna, sed malesuada diam facilisis sit amet.&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;thumbnail&#39;</span>: <span style=color:#e6db74>&#39;/images/my-awesome-research-thumb.png&#39;</span>,
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e># ...</span>
</span></span><span style=display:flex><span>]
</span></span></code></pre></div></li><li><p>The <code>research.html</code> template file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{% extends &#39;base.html&#39; %}
</span></span><span style=display:flex><span>{% block content %}
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h1</span>&gt;{{ title }}&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>    {% for project in projects %}
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>h2</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>/research/{{</span> <span style=color:#a6e22e>project</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>slug</span> <span style=color:#960050;background-color:#1e0010>}}</span>&gt;{{ project.name }}&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>table</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>td</span>&gt;&lt;<span style=color:#f92672>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>{{</span> <span style=color:#a6e22e>BASE_URL</span> <span style=color:#960050;background-color:#1e0010>}}{{</span> <span style=color:#a6e22e>project</span><span style=color:#960050;background-color:#1e0010>.</span><span style=color:#a6e22e>thumbnail</span> <span style=color:#960050;background-color:#1e0010>}}</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;200pt&#34;</span>&gt;&lt;/<span style=color:#f92672>td</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>td</span>&gt;&lt;<span style=color:#f92672>p</span>&gt;{{ project.excerpt }}&lt;/<span style=color:#f92672>p</span>&gt;&lt;/<span style=color:#f92672>td</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>table</span>&gt;
</span></span><span style=display:flex><span>    {% endfor %}
</span></span><span style=display:flex><span>{% endblock %}
</span></span></code></pre></div></li><li><p>Relevant snippet of the <code>build.py</code> script:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># ... ommited code</span>
</span></span><span style=display:flex><span>shutil<span style=color:#f92672>.</span>copytree(STATIC_PATH, BUILD_PATH)        <span style=color:#75715e># Copy the static folder to the build dir</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ...</span>
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Research
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span>template <span style=color:#f92672>=</span> env<span style=color:#f92672>.</span>get_template(<span style=color:#e6db74>&#39;research.html&#39;</span>)
</span></span><span style=display:flex><span>output <span style=color:#f92672>=</span> template<span style=color:#f92672>.</span>render(
</span></span><span style=display:flex><span>    BASE_URL<span style=color:#f92672>=</span>BASE_URL,
</span></span><span style=display:flex><span>    title<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Research&#34;</span>,
</span></span><span style=display:flex><span>    projects<span style=color:#f92672>=</span>research
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>o <span style=color:#f92672>=</span> BUILD_PATH <span style=color:#f92672>/</span> Path(<span style=color:#e6db74>&#34;research&#34;</span>)
</span></span><span style=display:flex><span>o<span style=color:#f92672>.</span>mkdir(parents<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, exist_ok<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>o <span style=color:#f92672>=</span> o <span style=color:#f92672>/</span> Path(<span style=color:#e6db74>&#39;index.html&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> o<span style=color:#f92672>.</span>open(mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;w&#39;</span>) <span style=color:#66d9ef>as</span> fh:
</span></span><span style=display:flex><span>    fh<span style=color:#f92672>.</span>write(output)
</span></span></code></pre></div></li><li><p>The generated <code>index.html</code> that is placed in <code>/project/folder/_site/research/index.html</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>html</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>title</span>&gt;Research&lt;/<span style=color:#f92672>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h1</span>&gt;Research&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>h2</span>&gt;&lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>/research/my-awesome-research</span>&gt;My Awesome Research&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>table</span>&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>td</span>&gt;&lt;<span style=color:#f92672>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>http://localhost:8000/images/my-awesome-research-thumb.png</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;200pt&#34;</span>&gt;&lt;/<span style=color:#f92672>td</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>td</span>&gt;&lt;<span style=color:#f92672>p</span>&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam lectus eget nisl iaculis, at maximus elit convallis. Donec mattis, sem et imperdiet convallis, leo enim tincidunt massa, non aliquam ante libero sollicitudin quam. Maecenas facilisis urna urna, sed malesuada diam facilisis sit amet.&lt;/<span style=color:#f92672>p</span>&gt;&lt;/<span style=color:#f92672>td</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>tr</span>&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>table</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- ommitted html: this is where other &lt;h2&gt;...&lt;/h2&gt;&lt;table&gt;...&lt;/table&gt; combos will show up, one for each entry in the research datastore --&gt;</span>
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>html</span>&gt;
</span></span></code></pre></div></li><li><p>Folder structure, <code>/_site</code> is the build script, and we don&rsquo;t manipulate files in there directly:</p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/path/to/project/
</span></span><span style=display:flex><span>    |-build.py
</span></span><span style=display:flex><span>    |-data.py
</span></span><span style=display:flex><span>    |-static/
</span></span><span style=display:flex><span>        |-files/
</span></span><span style=display:flex><span>        |-images/
</span></span><span style=display:flex><span>            |-my-alright-research-thumb.png
</span></span><span style=display:flex><span>            |-my-awesome-research-thumb.png
</span></span><span style=display:flex><span>    |-templates/
</span></span><span style=display:flex><span>        |-about.html
</span></span><span style=display:flex><span>        |-base.html
</span></span><span style=display:flex><span>        |-research.html
</span></span><span style=display:flex><span>        |-teaching.html
</span></span><span style=display:flex><span>    |-_site/
</span></span><span style=display:flex><span>        |-about/
</span></span><span style=display:flex><span>            |-index.html
</span></span><span style=display:flex><span>        |-files/
</span></span><span style=display:flex><span>        |-images/
</span></span><span style=display:flex><span>            |-my-alright-research-thumb.png
</span></span><span style=display:flex><span>            |-my-awesome-research-thumb.png
</span></span><span style=display:flex><span>        |-research/
</span></span><span style=display:flex><span>            |-index.html
</span></span><span style=display:flex><span>        |-teaching/
</span></span><span style=display:flex><span>            |-index.html
</span></span></code></pre></div><h2 id=the-details-page>The details page<a href=#the-details-page class=hanchor arialabel=Anchor>&#8983;</a></h2><p>All of this is working fine, so now what? Well, now I want to give some more information about each project. I want to showcase my work to the visitors by creating a new subpage, dedicated to a single project. To do this there are a few things I&rsquo;ll need to do.</p><h2 id=new-template>New template<a href=#new-template class=hanchor arialabel=Anchor>&#8983;</a></h2><p>First, I need to create a new template to show the details of a research project. So let&rsquo;s do that. Create a new template file in the <code>/templates</code> folder, I&rsquo;m going to call it <code>research_detail.html</code>, and it will look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{% extends &#39;base.html&#39; %}
</span></span><span style=display:flex><span>{% block content %}
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>h1</span>&gt;{{ project.name }}&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>p</span>&gt;{{ project.description }}&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>h2</span>&gt;People&lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>ul</span>&gt;
</span></span><span style=display:flex><span>      {% for person in project.people %}
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>                  {% if &#39;url&#39; in person %}
</span></span><span style=display:flex><span>                  &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href </span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ person.url }}&#34;</span>&gt;{{ person.name }}&lt;/<span style=color:#f92672>a</span>&gt;
</span></span><span style=display:flex><span>                  {% else %}
</span></span><span style=display:flex><span>                  {{ person.name }}
</span></span><span style=display:flex><span>                  {% endif %}
</span></span><span style=display:flex><span>            &lt;/<span style=color:#f92672>li</span>&gt;
</span></span><span style=display:flex><span>      {% endfor %}
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>ul</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>h2</span>&gt;Resources&lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>      {% for res in project.embed %}
</span></span><span style=display:flex><span>        {{ res }}
</span></span><span style=display:flex><span>      {% endfor %}
</span></span><span style=display:flex><span>{% endblock %}
</span></span></code></pre></div><p>Wow, ok, so what&rsquo;s going on here? Let&rsquo;s break it down:</p><ol><li>We extend the base template as usual, and we define stuff to go in the <code>content</code> block</li><li>The project name in a big old <code>&lt;h1></code> tag.</li><li>The description of the project, which will be a comprehensive text so it can get quite big, in a paragraph <code>&lt;p></code>.</li><li>A section of the page to list all the people that worked with me in the project. <em>Side note: always give credit when credit is due!</em><ol><li>For each person associated with this project, the template checks if they have a url field associated with the person. It checks if the dictionary has the key <code>url</code>, and if so, it will output an anchor <code>&lt;a></code> link, otherwise it simply prints out the name of the person.</li></ol></li><li>Finally, there is a resource section. This section is where I&rsquo;ll embed some <code>html</code> components directly from the data store.</li></ol><p>Naturally, I need to edit my data store and add these things to each research project next.</p><h2 id=moar-data>Moar data<a href=#moar-data class=hanchor arialabel=Anchor>&#8983;</a></h2><p>Let&rsquo;s make it look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>research <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    <span style=color:#75715e># ... ommitted the other project</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;name&#39;</span>: <span style=color:#e6db74>&#39;My Awesome Research&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;slug&#39;</span> : <span style=color:#e6db74>&#39;my-awesome-research&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;excerpt&#39;</span> : <span style=color:#e6db74>&#39;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed aliquam lectus eget nisl iaculis, at maximus elit convallis. Donec mattis, sem et imperdiet convallis, leo enim tincidunt massa, non aliquam ante libero sollicitudin quam. Maecenas facilisis urna urna, sed malesuada diam facilisis sit amet.&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;thumbnail&#39;</span>: <span style=color:#e6db74>&#39;/images/my-awesome-research-thumb.png&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;description&#39;</span>: <span style=color:#e6db74>&#39;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam et pulvinar erat. Suspendisse ultricies placerat mi at gravida. Nulla tellus eros, lacinia suscipit sem in, dignissim interdum nulla. Sed tincidunt diam ac lectus scelerisque aliquet. Sed tincidunt lorem ut enim aliquam hendrerit at eget ante. Cras at interdum diam, sed iaculis nunc. Ut dictum sit amet quam non ornare. Phasellus interdum congue convallis.Suspendisse rutrum quis neque et pharetra. Pellentesque porttitor tortor sit amet risus volutpat maximus. Ut ultrices metus non vestibulum ullamcorper. Morbi eu lacus metus. Etiam ac scelerisque ante. Praesent ut erat dictum, tristique orci laoreet, ultrices diam. Cras luctus ex at massa convallis auctor. Suspendisse facilisis lobortis lectus quis molestie. Praesent velit odio, fringilla gravida dolor non, faucibus facilisis quam. Nunc imperdiet consectetur arcu sit amet fringilla. Aenean ipsum dolor, consequat luctus magna at, varius vestibulum lorem. Nullam malesuada magna eu massa rutrum, in vestibulum eros vestibulum. Maecenas volutpat nunc et nulla semper, quis viverra leo pellentesque. Ut pellentesque sem et commodo hendrerit. Cras vitae pharetra neque.Cras aliquam vel mauris egestas egestas. Vestibulum at orci a quam vehicula viverra. Sed finibus eget mi vel viverra. Phasellus quis ligula non ante consectetur pellentesque quis eget eros. Ut vestibulum laoreet iaculis. Nam fermentum lacus sed elit bibendum hendrerit. Sed rutrum viverra lacus, non consequat urna consequat at. Fusce vehicula tristique turpis ornare bibendum. Praesent quam sapien, porttitor vel tincidunt vel, feugiat et justo.Maecenas in lectus quis neque interdum bibendum. Cras dapibus commodo leo, quis eleifend velit. Vivamus vel erat lobortis diam ornare blandit eget eget nisi. Duis id mauris purus. Vestibulum sagittis felis libero, ac ullamcorper dolor convallis quis. Maecenas et vestibulum augue, non efficitur metus. Pellentesque efficitur libero ut nulla pretium, eu dapibus mi consequat. Sed non tortor volutpat, porta ligula et, consequat sapien. Cras quis metus vitae mi euismod vulputate a non mi.Praesent ornare pretium iaculis. Pellentesque mollis lorem id pretium viverra. Praesent ac nisi scelerisque, ornare arcu id, viverra augue. Maecenas congue, diam vel viverra suscipit, urna felis posuere felis, ac eleifend erat nulla a dui. Sed suscipit vel ex eget rhoncus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nunc facilisis interdum massa ut feugiat.&#39;</span>,
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;people&#39;</span>: [
</span></span><span style=display:flex><span>            { <span style=color:#e6db74>&#39;name&#39;</span>: <span style=color:#e6db74>&#39;John Doe&#39;</span>, <span style=color:#e6db74>&#39;url&#39;</span>: <span style=color:#e6db74>&#39;https://google.com&#39;</span> },
</span></span><span style=display:flex><span>            { <span style=color:#e6db74>&#39;name&#39;</span>: <span style=color:#e6db74>&#39;Jane Doe&#39;</span> },
</span></span><span style=display:flex><span>            { <span style=color:#e6db74>&#39;name&#39;</span>: <span style=color:#e6db74>&#39;Marcus Zucko&#39;</span>, <span style=color:#e6db74>&#39;url&#39;</span>: <span style=color:#e6db74>&#39;https://facebok.com&#39;</span> },
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#39;embed&#39;</span>: [
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/ACmmxe3vPjo&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/ACmmxe3vPjo&#34; frameborder=&#34;0&#34; allow=&#34;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&#34; allowfullscreen&gt;&lt;/iframe&gt;&#39;</span>,
</span></span><span style=display:flex><span>        ],
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><p>So what&rsquo;s happening in the data? We added a few new key/value pairs to the dictionary to represent a project:</p><ul><li>The <code>description</code>, which is just a giant text.</li><li>The people, which is a list of dictionaries where each entry has at least a <code>name</code>, and may have a <code>url</code> field.</li><li>Then we also have this <code>embed</code> field, which is a list of strings.</li></ul><p>Each string in the <code>embed</code> list actually looks like some <code>html</code> code! They are <code>&lt;iframe></code> tags that I got from the Youtube videos that I made specifically for this project. I got this code directly from the Youtube&rsquo;s website using the share options. You can get the code from any video, just click on share, then the embed option, and Youtube will give you the exact <code>html</code> code.</p><p>What will happen is that that string will be injected into the final <code>html</code> file as is, and once loaded by the browser, it will show the youtube video instead of the <code>html</code> characters like <code>&lt;</code> and <code>></code>. So if you have demo videos made for a project, this is a way you can showcase it. Visitors to the website won&rsquo;t have to leave the website to watch the video, they can watch it right there.</p><p>Ok, ok. If you haven&rsquo;t realized yet, we did not touch the build script. All we did so far doesn&rsquo;t really reflect in the built website if we run the script yet. Let&rsquo;s deal with that next.</p><h2 id=adding-the-new-page-to-the-build-flow>Adding the new page to the build flow<a href=#adding-the-new-page-to-the-build-flow class=hanchor arialabel=Anchor>&#8983;</a></h2><p>In the <code>build.py</code> script we need to iterate over all the research projects from the data store, and then create individual subfolders for each one of them, and then feed the template with the data, and spit out an <code>index.html</code> into that subfolder. We will end up with something like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Research
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># /research</span>
</span></span><span style=display:flex><span>template <span style=color:#f92672>=</span> env<span style=color:#f92672>.</span>get_template(<span style=color:#e6db74>&#39;research.html&#39;</span>)
</span></span><span style=display:flex><span>output <span style=color:#f92672>=</span> template<span style=color:#f92672>.</span>render(
</span></span><span style=display:flex><span>    BASE_URL<span style=color:#f92672>=</span>BASE_URL,
</span></span><span style=display:flex><span>    title<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Research&#34;</span>,
</span></span><span style=display:flex><span>    projects<span style=color:#f92672>=</span>research
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>o <span style=color:#f92672>=</span> BUILD_PATH <span style=color:#f92672>/</span> Path(<span style=color:#e6db74>&#34;research&#34;</span>)
</span></span><span style=display:flex><span>o<span style=color:#f92672>.</span>mkdir(parents<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, exist_ok<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>o <span style=color:#f92672>=</span> o <span style=color:#f92672>/</span> Path(<span style=color:#e6db74>&#39;index.html&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>with</span> o<span style=color:#f92672>.</span>open(mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;w&#39;</span>) <span style=color:#66d9ef>as</span> fh:
</span></span><span style=display:flex><span>    fh<span style=color:#f92672>.</span>write(output)
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Research project detail
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#34;&#34;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># /research/*</span>
</span></span><span style=display:flex><span>template <span style=color:#f92672>=</span> env<span style=color:#f92672>.</span>get_template(<span style=color:#e6db74>&#39;research_detail.html&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> r <span style=color:#f92672>in</span> research:
</span></span><span style=display:flex><span>    output <span style=color:#f92672>=</span> template<span style=color:#f92672>.</span>render(
</span></span><span style=display:flex><span>        general<span style=color:#f92672>=</span>gen,
</span></span><span style=display:flex><span>            title<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;Project details&#39;</span>,
</span></span><span style=display:flex><span>        project<span style=color:#f92672>=</span>r
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    o <span style=color:#f92672>=</span> path <span style=color:#f92672>/</span> Path(<span style=color:#e6db74>&#34;research/&#34;</span><span style=color:#f92672>+</span>r[<span style=color:#e6db74>&#39;slug&#39;</span>])
</span></span><span style=display:flex><span>    o<span style=color:#f92672>.</span>mkdir(parents<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, exist_ok<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>    o <span style=color:#f92672>=</span> o <span style=color:#f92672>/</span> Path(<span style=color:#e6db74>&#39;index.html&#39;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> o<span style=color:#f92672>.</span>open(mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;w&#39;</span>) <span style=color:#66d9ef>as</span> fh:
</span></span><span style=display:flex><span>        fh<span style=color:#f92672>.</span>write(output)
</span></span></code></pre></div><p>It looks pretty similar to the other pages we generated, the only difference is that we loop over each research project inside the <code>research</code> list and create a dedicated subpage (using the <code>slug</code> item to name the folder) for each one of those items.</p><p>Now you can build and serve and test it out by loading <code>localhost:8000/research/my-awesome-research/</code> in the browser (or go to <code>localhost:8000/research</code> and click the links!):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>python build.py
</span></span><span style=display:flex><span>python -m http.server --directory ./_site 
</span></span></code></pre></div><p>![The details page]images/Screen_Shot_2021_11_17_at_12_07_47_2a8cc2edd3.png)</p><h2 id=a-word-on-the-development-workflow>A word on the development workflow<a href=#a-word-on-the-development-workflow class=hanchor arialabel=Anchor>&#8983;</a></h2><p>What we did today should feel pretty similar to what we have done so far for each new page in the website. In fact, we&rsquo;re not doing anything different&mldr; We do the same thing over and over again: add information to the database, create a template with some placeholder areas, then wire it together in the build script.</p><p>The order of events is not mandatory, if you are more comfortable with creating the build script first, and that gives you more clarity on what to do later, great, do that first. Or If you prefer to enter information into the data file first, that&rsquo;s totally fine too. The order you use should make sense to you, and you can even try out different workflows while coding. And use the one that makes more sense to you.</p><h2 id=summary>Summary<a href=#summary class=hanchor arialabel=Anchor>&#8983;</a></h2><p>In this article we:</p><ul><li>Created a new template for the project details</li><li>Added more data to the each research project in the data store</li><li>Used embedded resources from an external website: Youtube</li><li>Build detail pages for each project using the <code>slug</code> property</li></ul></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=/posts/the-forgotten-page/><span class=button__icon>←</span>
<span class=button__text>The Forgotten Page</span></a></span>
<span class="button next"><a href=/posts/attack-of-the-static-assets/><span class=button__text>Attack of the Static Assets</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>All rights preserved.</span></div></div></footer><script src=/assets/main.js></script>
<script src=/assets/prism.js></script></div></body></html>